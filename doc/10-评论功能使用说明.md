# 评论功能使用说明

## 1. 评论功能位置

评论功能位于**文章详情页面**的底部。

### 访问路径
1. 从首页点击文章标题，进入文章详情页
2. 文章详情页URL格式：`http://localhost/article/{文章ID}`
3. 滚动到页面底部，可以看到评论区域

## 2. 评论区域组成

### 2.1 评论编辑器（CommentEditor）
- **位置**：评论区域顶部
- **功能**：
  - 发表新评论
  - 回复其他评论
  - 未登录用户会显示登录提示

### 2.2 评论列表（CommentList）
- **位置**：评论编辑器下方
- **功能**：
  - 显示所有评论
  - 支持多级嵌套回复
  - 支持分页加载
  - 显示评论点赞数

### 2.3 评论项（CommentItem）
- **功能**：
  - 显示评论内容
  - 显示评论者信息（头像、昵称、时间）
  - 点赞按钮
  - 回复按钮
  - 删除按钮（仅自己或管理员可见）

## 3. 使用步骤

### 3.1 查看评论
1. 打开文章详情页
2. 滚动到页面底部
3. 查看"评论"卡片区域
4. 如果文章没有评论，会显示"暂无评论"

### 3.2 发表评论
1. **登录**：确保已登录（未登录会显示登录提示）
2. **输入内容**：在评论编辑器中输入评论内容
3. **发表**：点击"发表"按钮
4. **成功**：评论会立即显示在评论列表中

### 3.3 回复评论
1. 找到要回复的评论
2. 点击评论下方的"回复"按钮
3. 评论编辑器会显示"回复 XXX"的提示
4. 输入回复内容
5. 点击"发表"按钮

### 3.4 点赞评论
1. 找到要点赞的评论
2. 点击评论下方的点赞按钮（👍）
3. 点赞数会实时更新

### 3.5 删除评论
1. 找到自己的评论
2. 点击评论下方的"删除"按钮
3. 确认删除操作
4. 评论会被删除

## 4. 界面说明

### 评论区域布局
```
┌─────────────────────────────────┐
│  评论 (X)                        │  ← 评论标题和数量
├─────────────────────────────────┤
│  [评论输入框]                    │  ← 评论编辑器
│  [发表] [取消]                   │
├─────────────────────────────────┤
│  ┌───────────────────────────┐ │
│  │ [头像] 用户名  时间        │ │  ← 评论项
│  │ 评论内容                   │ │
│  │ [👍 5] [回复] [删除]       │ │
│  │   └─ 回复1                │ │  ← 嵌套回复
│  │   └─ 回复2                │ │
│  └───────────────────────────┘ │
│  ┌───────────────────────────┐ │
│  │ [头像] 用户名  时间        │ │
│  │ 评论内容                   │ │
│  │ [👍 3] [回复]             │ │
│  └───────────────────────────┘ │
│  [分页控件]                     │  ← 分页
└─────────────────────────────────┘
```

## 5. 常见问题

### Q1: 看不到评论区域？
**A**: 请确保：
1. 已打开文章详情页（不是首页）
2. 滚动到页面底部
3. 刷新浏览器页面（清除缓存）

### Q2: 无法发表评论？
**A**: 请检查：
1. 是否已登录（未登录需要先登录）
2. 评论内容是否为空
3. 网络连接是否正常

### Q3: 评论不显示？
**A**: 可能原因：
1. 文章确实没有评论
2. 评论正在加载中（显示加载动画）
3. 网络请求失败（查看浏览器控制台）

### Q4: 如何找到文章详情页？
**A**: 
1. 从首页文章列表点击文章标题
2. 或直接访问：`http://localhost/article/{文章ID}`

## 6. 技术实现

### 组件结构
- `CommentEditor.vue` - 评论编辑器组件
- `CommentList.vue` - 评论列表组件
- `CommentItem.vue` - 评论项组件

### API接口
- `GET /api/v1/articles/:id/comments` - 获取评论列表
- `POST /api/v1/articles/:id/comments` - 创建评论
- `PUT /api/v1/comments/:id` - 更新评论
- `DELETE /api/v1/comments/:id` - 删除评论
- `POST /api/v1/comments/:id/like` - 点赞评论

## 7. 测试建议

1. **测试发表评论**：
   - 登录后访问文章详情页
   - 在评论编辑器输入内容
   - 点击发表，验证评论是否显示

2. **测试回复功能**：
   - 点击已有评论的"回复"按钮
   - 输入回复内容
   - 验证回复是否正确嵌套显示

3. **测试点赞功能**：
   - 点击评论的点赞按钮
   - 验证点赞数是否更新
   - 再次点击验证取消点赞

4. **测试删除功能**：
   - 发表一条评论
   - 点击删除按钮
   - 验证评论是否被删除

